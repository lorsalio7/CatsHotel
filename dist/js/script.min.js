"use strict";function throttle(e,t){var o=!1;return function(){o||(e.apply(void 0,arguments),o=!0,setTimeout((function(){o=!1}),t))}}function debounce(e,t){var o;return function(){var n=this,r=arguments;clearTimeout(o),o=setTimeout((function(){return e.apply(n,r)}),t)}}var scrollController={scrollPosition:0,disabledScroll:function(e){e&&document.querySelectorAll(e).forEach((function(e){e.style.paddingRight="".concat(parseInt(window.innerWidth-document.body.offsetWidth),"px")}));scrollController.scrollPosition=window.scrollY,document.body.style.cssText="\n      overflow: hidden;\n      position: fixed;\n      top: -".concat(scrollController.scrollPosition,"px;\n      left: 0;\n      height: 100vh;\n      width: 100vw;\n      padding-right: ").concat(parseInt(window.innerWidth-document.body.offsetWidth),"px;\n    "),document.documentElement.style.scrollBehavior="unset"},enabledScrool:function(e){(document.body.style.cssText="",window.scroll({top:scrollController.scrollPosition}),document.documentElement.style.scrollBehavior="",e)&&document.querySelectorAll(e).forEach((function(e){e.style.paddingRight="0"}))}},siteHeader=document.querySelector(".site-header");if(siteHeader){var addShadow=function(){var e=window.pageYOffset;siteHeader.style.boxShadow=e>0?"0 2px 6px rgba(0,0,0,0.2)":"0 2px 6px rgba(0,0,0,0)"};window.addEventListener("scroll",debounce(addShadow,150))}var burgerButton=document.querySelector(".burger-button");if(burgerButton){var openMenu=function(){scrollController.disabledScroll(".fixed-element"),setTimeout((function(){_siteHeader.classList.add("site-header--active")}),300),siteNavigation.classList.add("site-header__navigation--active")},closeMenu=function(){scrollController.enabledScrool(".fixed-element"),_siteHeader.classList.remove("site-header--active"),siteNavigation.classList.remove("site-header__navigation--active"),burgerButton.classList.remove("burger-button--active")},changeView=function(e){e||closeMenu()},_siteHeader=document.querySelector(".site-header"),siteNavigation=document.querySelector(".site-header__navigation"),burgerMenuWidth=window.matchMedia("(max-width: 768px)"),siteNavigationLinks=siteNavigation.querySelectorAll(".site-navigation-list__link");burgerButton.addEventListener("click",(function(){burgerButton.classList.toggle("burger-button--active"),burgerButton.classList.contains("burger-button--active")?openMenu():closeMenu()})),burgerMenuWidth.onchange=function(e){changeView(e.matches)},siteNavigationLinks.forEach((function(e){e.addEventListener("click",closeMenu)}))}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".rooms-slider"),t=document.querySelector(".reviews__slider"),o=document.querySelector(".card-room__big-slider"),n=document.querySelector(".card-room__thumbs-slider");e&&new Splide(e,{gap:45,mediaQuery:"min",classes:{prev:"splide__arrow--prev rooms-slider__arrow",next:"splide__arrow--next rooms-slider__arrow"},breakpoints:{200:{arrows:!1},769:{padding:15},950:{padding:0,arrows:!0}}}).mount(),t&&new Splide(t,{gap:30,mediaQuery:"min",classes:{prev:"splide__arrow--prev reviews-slider__arrow",next:"splide__arrow--next reviews-slider__arrow"},breakpoints:{200:{arrows:!1},950:{arrows:!0}}}).mount(),o&&(o=new Splide(o,{gap:30,arrows:!1,pagination:!1}).mount(),n=new Splide(n,{mediaQuery:"min",gap:16,perPage:3,arrows:!1,pagination:!1,isNavigation:!0,breakpoints:{426:{gap:40},600:{gap:25},769:{gap:21},950:{direction:"ttb",height:396,gap:30}}}).mount(),o.sync(n))}));var dropdown=document.querySelector(".dropdown");if(dropdown){var openDropdown=function(){dropdownList.classList.add("dropdown-filter__list--active")},closeDropdown=function(){dropdownButton.classList.remove("dropdown__toggle--active"),dropdownList.classList.remove("dropdown-filter__list--active"),dropdownButton.setAttribute("aria-expanded","false")},getDataOption=function(e){var t=e.innerHTML,o=e.dataset.optionIcon;dropdownButton.innerHTML=t,dropdownButton.style.backgroundImage='url("'.concat(o,'")')},dropdownButton=dropdown.querySelector(".dropdown__toggle"),dropdownList=dropdown.querySelector(".dropdown-filter__list"),dropdownOptions=dropdown.querySelectorAll(".dropdown-filter__option");dropdownButton.addEventListener("click",(function(){dropdownButton.classList.toggle("dropdown__toggle--active"),dropdownButton.setAttribute("aria-expanded","true"),dropdownButton.classList.contains("dropdown__toggle--active")?(openDropdown(),dropdownOptions.forEach((function(e){e.addEventListener("click",(function(){getDataOption(e),closeDropdown()})),e.addEventListener("keydown",(function(e){dropdownButton.classList.contains("dropdown__toggle--active")&&"Enter"===e.key&&(getDataOption(e.target),closeDropdown())}))}))):closeDropdown()}))}var filtersButton=document.querySelector(".catalog-header__filter-button");if(filtersButton){var previousActiveElement,focusTrap=function(){var e=filtersModal.querySelectorAll(focusElements);filtersModalOverlay.classList.contains("catalog__catalog-filters--active")?e&&e[0].focus():previousActiveElement.focus()},focusCatch=function(e){var t=filtersModal.querySelectorAll(focusElements),o=Array.prototype.slice.call(t),n=o.indexOf(document.activeElement);e.shiftKey&&0===n&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||n!==o.length-1||(o[0].focus(),e.preventDefault())},closeFilters=function e(){filtersModal.classList.remove("catalog-filters__wrapper--active"),filtersButton.classList.remove("catalog-header__filter-button--active"),setTimeout((function(){filtersModalOverlay.classList.remove("catalog__catalog-filters--active"),filtersModalOverlay.removeAttribute("style"),scrollController.enabledScrool(".fixed-element"),focusTrap()}),300),window.removeEventListener("keydown",e),filtersModalOverlay.removeEventListener("click",e)},openFilters=function(){previousActiveElement=document.activeElement,filtersModalOverlay.style.display="block",setTimeout((function(){filtersModalOverlay.classList.add("catalog__catalog-filters--active"),filtersModal.classList.add("catalog-filters__wrapper--active"),focusTrap()}),10),window.addEventListener("keydown",(function(e){27===e.keyCode&&filtersModal.classList.contains("catalog-filters__wrapper--active")&&closeFilters(),9===e.keyCode&&filtersModal.classList.contains("catalog-filters__wrapper--active")&&focusCatch(e)})),filtersModalOverlay.addEventListener("click",(function(e){(!e.target===filtersModal&&filtersModal.classList.contains("catalog-filters__wrapper--active")||e.target===filtersModalOverlay||e.target===closeFiltersButton)&&closeFilters()})),scrollController.disabledScroll(".fixed-element")},_changeView=function(e){e||(filtersModal.classList.remove("catalog-filters__wrapper--active"),filtersButton.classList.remove("catalog-header__filter-button--active"),filtersModalOverlay.classList.remove("catalog__catalog-filters--active"),filtersModalOverlay.removeAttribute("style"),scrollController.enabledScrool(".fixed-element"),window.removeEventListener("keydown",closeFilters),filtersModalOverlay.removeEventListener("click",closeFilters))},filtersModalOverlay=document.querySelector(".catalog__catalog-filters"),filtersForm=document.querySelector("#catalog-filters-form"),filtersModal=filtersModalOverlay.querySelector(".catalog-filters__wrapper"),catalogFiltersWidth=window.matchMedia("(max-width: 1200px)"),closeFiltersButton=document.querySelector(".catalog-filters__close-button"),focusElements=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];filtersForm.addEventListener("keydown",(function(e){"Enter"===e.key&&e.target!==filtersForm.querySelector(".catalog-filters__submit-button")&&e.target!==filtersForm.querySelector(".catalog-filters__reset-button")&&(e.preventDefault(),"checkbox"===e.target.type&&(e.target.checked=!e.target.checked))})),filtersButton.addEventListener("click",(function(){filtersButton.classList.add("catalog-header__filter-button--active"),openFilters()})),catalogFiltersWidth.onchange=function(e){_changeView(e.matches)}}var arrivalInput=new Cleave(".modal-form__arrival-date",{date:!0,delimiter:".",datePattern:["d","m","Y"]}),departureInput=new Cleave(".modal-form__departure-date",{date:!0,delimiter:".",datePattern:["d","m","Y"]});function modalInit(e){var t=e.modalWindow,o=e.buttonOpen,n=e.buttonClose,r=document.querySelector(t);if(r){var a,i=function(){var e=r.querySelectorAll(f);r.classList.contains("modal--active")?e&&e[0].focus():a.focus()},l=function e(t){r.classList.remove("modal--active"),u.classList.remove("modal__container--active"),setTimeout((function(){r.removeAttribute("style"),scrollController.enabledScrool(".fixed-element"),i()}),300),window.removeEventListener("keydown",e),r.removeEventListener("click",e)},s=function(){a=document.activeElement,r.style.display="flex",setTimeout((function(){r.classList.add("modal--active"),u.classList.add("modal__container--active"),i()}),10),window.addEventListener("keydown",(function(e){27===e.keyCode&&r.classList.contains("modal--active")&&l(),9===e.keyCode&&r.classList.contains("modal--active")&&function(e){var t=r.querySelectorAll(f),o=Array.prototype.slice.call(t),n=o.indexOf(document.activeElement);e.shiftKey&&0===n&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||n!==o.length-1||(o[0].focus(),e.preventDefault())}(e)})),r.addEventListener("click",(function(e){(!e.target===u&&r.classList.contains("modal--active")||e.target===r||e.target===d)&&l()})),scrollController.disabledScroll(".fixed-element")},c=document.querySelectorAll(o),d=r.querySelector(n),u=r.querySelector(".modal__container");c.forEach((function(e){e.addEventListener("click",s)}));var f=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])']}}modalInit({modalWindow:".modal-reserve",buttonOpen:".reserve-button",buttonClose:".modal__close-button"});var contactsMap=document.querySelector("#map");if(contactsMap){var scrollTimeout,init=function(){contactsMap=new ymaps.Map(contactsMap,{center:[59.938627699512686,30.323111601852325],zoom:19});var e=new ymaps.Placemark([59.938627699512686,30.323111601852325],{},{iconLayout:"default#image",iconImageHref:"img/icons/place-ic.svg",iconImageSize:[32,58],iconImageOffset:[-19,-44]});contactsMap.geoObjects.add(e),contactsMap.behaviors.disable(["scrollZoom"])},mapLoaded=!1,mapOffset=document.querySelector(".contacts__map-wrapper").getBoundingClientRect();window.addEventListener("scroll",(function(){clearTimeout(scrollTimeout),scrollTimeout=setTimeout((function(){var e=window.scrollY;!mapLoaded&&e>=mapOffset.top-500&&(ymaps.ready(init),mapLoaded=!0)}),100)}))}